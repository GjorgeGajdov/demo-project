<div *ngFor='let node of displayedNodes$ | async' mat-ripple class='tree-node' fxLayout="row"
    fxLayoutAlign="start center" [class.selected]='isSelected(node)' [style.paddingLeft.px]='node.level * 25'
    (click)='selectNode(node)'>
    <button *ngIf='node.expandable' mat-icon-button (click)='toggleNode($event, node)'>
        <mat-icon>
            {{isExpanded(node) ? 'keyboard_arrow_down' : 'keyboard_arrow_right'}}
        </mat-icon>
    </button>

    <button *ngIf='!node.expandable' mat-icon-button disabled='true' (click)='toggleNode(node)'>
        <mat-icon></mat-icon>
    </button>

    <ng-template *ngIf='uiTreeNodeTemplate' [ngTemplateOutlet]='uiTreeNodeTemplate.templateRef'
        [ngTemplateOutletContext]='{data: node.data}'>
    </ng-template>
    <span *ngIf='!uiTreeNodeTemplate'>{{node.name}}</span>
</div>